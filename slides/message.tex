\begin{center}
\begin{tikzpicture}
\def\shift{3cm}
\def\yshift{\shift/1.5}
\tikzset{
base/.style={draw,font=\small},
queue/.style={base,minimum width=2*\shift,minimum height=\shift/6,align=center},
proc/.style={base},
every path/.style={>=latex,draw},
syscal/.style={font=\scriptsize\tt}}
\node[queue,text width=\shift] at (0,0) (Q) {};
\node[left,font=\scriptsize] at (\shift,\yshift/4) {fila de mensagens};
\foreach \x in {-3,-2,-1,0,1,2} \node[draw,anchor=west,minimum width=\shift/3,minimum height=\shift/6] at (\x cm,0) {};
\node[proc,anchor=east] at (-\shift,\yshift) (PA) {Processo A};
\node[proc,anchor=west] at (\shift,-\yshift) (PB) {Processo B};
\path[->] (PA.south east) -- node[syscal,right]{write()} (Q.north west);
\path[->] (Q.south east) -- node[syscal,left]{read()} (PB.north west);
%\draw[dotted] (-2*\shift,-\yshift) -- (2*\shift,-\yshift) node[below] {kernel};
\end{tikzpicture}
\end{center}
